"use strict";(self["webpackChunkhome_page"]=self["webpackChunkhome_page"]||[]).push([[135],{5135:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("el-row",{staticStyle:{height:"100vh"},attrs:{type:"flex",justify:"center",align:"top"}},[t("el-col",{attrs:{span:6}}),t("el-col",{attrs:{span:12}},[t("el-row",{staticStyle:{height:"20vh"},attrs:{type:"flex",justify:"center",align:"top"}}),t("el-input",{ref:"inp",attrs:{type:"text",autocomplete:"off"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.inputKeysListener.apply(null,arguments)}},model:{value:e.searchContent,callback:function(t){e.searchContent=t},expression:"searchContent"}})],1),t("el-col",{attrs:{span:6}},[t("el-row",{staticStyle:{height:"100vh"},attrs:{type:"flex",justify:"center",align:"top"}},[t("el-col",{attrs:{span:18}}),t("el-col",{attrs:{span:6,type:"flex",justify:"center",align:"top"}},[t("div"),t("el-button",{attrs:{icon:"el-icon-refresh-right",title:"刷新配置",circle:""},on:{click:e.reloadSearchConfig}})],1)],1)],1)],1)},r=[],i={searchConfItems:[{name:"百度",url:"https://www.baidu.com/s?wd=",keys:[]},{name:"必应",url:"https://cn.bing.com/search?q=",keys:["control"]},{name:"爆栈",url:"https://stackoverflow.com/search?q=",keys:["control","alt"]},{name:"github",url:"https://github.com/search?q=",keys:["control","shift"]},{name:"maven",url:"https://mvnrepository.com/search?q=",keys:["alt","1"]},{name:"crates",url:"https://crates.io/search?q=",keys:["alt","2"]},{name:"docker",url:"https://hub.docker.com/search?q=",keys:["alt","3"]}],keyWeightMap:{control:2,shift:4,alt:8,1:16,2:32,3:64,4:128,5:256,6:512,7:1024,8:2048,9:4096,0:8192}},o={name:"Search",data(){return{searchContent:"",searchMetadata:{},keyWeights:1,keyWeightMap:{}}},methods:{inputKeysListener(e){if(this.searchContent&&""!==this.searchContent.toString().trim()){if(console.log(this.searchMetadata),this.searchMetadata.hasOwnProperty(this.keyWeights)){var t=this.searchMetadata[this.keyWeights].url;window.open(`${t}${this.searchContent}`,"_self")}}else this.$message({message:"请输入问题",type:"warning"})},reloadSearchConfig(){localStorage.removeItem("searchMetadata"),this.loadSearchConfig()},loadSearchConfigByLocalConfig(){var e=localStorage.getItem("searchConfig");e=e&&""!=e?JSON.parse(e):i.searchConfItems;var t={};return e.forEach((e=>{var a=e.keys.reduce(((e,t)=>{if(this.keyWeightMap.hasOwnProperty(t))return e+this.keyWeightMap[t].weight;var a=`无效按键配置，不支持${t}`;throw this.$message({message:a,type:"warning"}),a}),1);if(t.hasOwnProperty(a)){var s=`按键配置重复，${e.name}`;throw this.$message({message:s,type:"warning"}),s}t[a]={...e}})),localStorage.setItem("searchConfig",JSON.stringify(e)),t},loadSearchConfig(){var e=localStorage.getItem("searchMetadata");e&&""!=e?this.searchMetadata=JSON.parse(e):(this.searchMetadata=this.loadSearchConfigByLocalConfig(),localStorage.setItem("searchMetadata",JSON.stringify(this.searchMetadata)))},initKeyWeightMap(){for(var e in i.keyWeightMap)this.keyWeightMap[e]={available:!0,weight:i.keyWeightMap[e]}}},activated(){this.initKeyWeightMap(),this.loadSearchConfig(),window.onblur=()=>{this.keyWeights=1},document.onkeydown=e=>{var t=e.key.toLowerCase();if(this.keyWeightMap.hasOwnProperty(t)){var a=this.keyWeightMap[t];if(console.log(a),!a.available)return;this.keyWeights+=a.weight,a.available=!1}console.log(this.keyWeights)},document.onkeyup=e=>{var t=e.key.toLowerCase();if(this.keyWeightMap.hasOwnProperty(t)){var a=this.keyWeightMap[t];if(console.log(a),a.available)return;this.keyWeights-=a.weight,a.available=!0}console.log(this.keyWeights)},this.$refs.inp.focus()},created(){this.keyWeights=1}},h=o,n=a(1001),l=(0,n.Z)(h,s,r,!1,null,null,null),c=l.exports}}]);
//# sourceMappingURL=135.4562bec2.js.map